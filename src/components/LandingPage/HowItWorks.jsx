import { Description } from "@headlessui/react";
import React, { useEffect, useState } from "react";

import HowItWorks1 from "../../assets/icons/HowItWorks1";
import HowItWorks2 from "../../assets/icons/HowItWorks2";
import HowItWorks3 from "../../assets/icons/HowItWorks3";
import HowItWorks4 from "../../assets/icons/HowItWorks4";
Path;
import Path from "../../assets/icons/Path";
import PathMobile from "../../assets/icons/PathMobile";
import { useTranslation } from "react-i18next";
import { useLocation } from "react-router-dom";

import step1 from "../../assets/images/step1.png";
import step2 from "../../assets/images/step2.png";
import step3 from "../../assets/images/step3.png";
import step4 from "../../assets/images/step4.png";

const HowItWorks = () => {
  const { t } = useTranslation();
  const { hash } = useLocation();
  const offset = 60; 
  useEffect(() => {
    if (hash) {
      const element = document.querySelector(hash);
      if (element) {
        const elementPosition = element.getBoundingClientRect().top + window.scrollY;
        window.scrollTo({ top: elementPosition - offset, behavior: "smooth" });
      }
    }
  }, [hash]);
  
  const steps = [
    {
      title: t("landingPage.howItWorks.step1.title"),
      description: t("landingPage.howItWorks.step1.description"),
      // image: <HowItWorks1 className={"w-[50px]"} />,
      image: step1,
    },
    {
      title: t("landingPage.howItWorks.step2.title"),
      description: t("landingPage.howItWorks.step2.description"),
      // image: <HowItWorks2 />,
      image: step2,
    },
    {
      title: t("landingPage.howItWorks.step3.title"),
      description: t("landingPage.howItWorks.step3.description"),
      // image: <HowItWorks3 />,
      image: step3,
    },
    {
      title: t("landingPage.howItWorks.step4.title"),
      description: t("landingPage.howItWorks.step4.description"),
      // image: <HowItWorks4 />,
      image: step4,
    },
  ];

  const [activeGroupIndex, setActiveGroupIndex] = useState(0); // State to track the active group index

  const handleScroll = () => {
    const circleGroups = document.querySelectorAll(".circle-group");
    const viewportMiddle = window.innerHeight / 2; // Middle of the viewport
    const threshold = 100; // Threshold for middle detection

    let newActiveIndex = null;

    circleGroups.forEach((group, index) => {
      const rect = group.getBoundingClientRect();
      const elementMiddle = rect.top + rect.height / 2; // Middle of the current element

      const isInView =
        elementMiddle >= viewportMiddle - threshold &&
        elementMiddle <= viewportMiddle + threshold;

      if (isInView && newActiveIndex === null) {
        newActiveIndex = index; // Set the new active group index
      }

      if (index == activeGroupIndex) {
        group.querySelector(".outer-circle").setAttribute("stroke", "#DE6DAF");
        group.querySelector(".inner-circle").setAttribute("fill", "#DE6DAF");
      } else {
        group.querySelector(".outer-circle").setAttribute("stroke", "#E4E4E4");
        group.querySelector(".inner-circle").setAttribute("fill", "#E4E4E4");
      }
    });

    if (newActiveIndex !== null && newActiveIndex !== activeGroupIndex) {
      setActiveGroupIndex(newActiveIndex); // Update the active group index
    }
  };
  useEffect(() => {
    window.addEventListener("scroll", handleScroll);
    return () => window.removeEventListener("scroll", handleScroll);
  }, [activeGroupIndex]); // Ensure the effect depends on the latest activeGroupIndex

  return (
    <div className="bg-white">
      <div className="container mx-auto max-w-screen-xl py-12 px-8 overflow-hidden">
        <h2 className="text-black text-[42px] font-bold text-center">
          {t("landingPage.howItWorks.title")}
        </h2>

        <div className="mt-8 ">
          <div className="relative">
            
            <svg
              width="510"
              height="1671"
              viewBox="0 0 510 1671"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              className="hidden lg:block  path-circle absolute left-[40%] top-[-250px] transform -translate-x-1/2 "
            >
              <circle
                cx="84.5"
                cy="84.5"
                r="84.5"
                fill="#DE6DAF"
                fillOpacity="0.1"
              />
              <circle
                cx="84.0194"
                cy="84.5001"
                r="73.3643"
                fill="#DE6DAF"
                stroke="white"
                strokeWidth="1.31008"
              />
              <path
                d="M43.7491 65.1398C43.6895 64.5393 43.434 64.0728 42.9824 63.7404C42.5308 63.4079 41.918 63.2416 41.1438 63.2416C40.6178 63.2416 40.1737 63.3161 39.8114 63.4649C39.4492 63.6088 39.1713 63.8098 38.9777 64.0679C38.7892 64.3259 38.6949 64.6187 38.6949 64.9462C38.6849 65.2192 38.742 65.4573 38.8661 65.6608C38.9951 65.8643 39.1713 66.0404 39.3946 66.1893C39.6179 66.3332 39.8759 66.4598 40.1687 66.5689C40.4615 66.6731 40.7741 66.7625 41.1066 66.8369L42.4762 67.1644C43.1412 67.3133 43.7516 67.5118 44.3074 67.7599C44.8632 68.008 45.3445 68.3132 45.7514 68.6755C46.1583 69.0377 46.4735 69.4645 46.6968 69.9558C46.925 70.4471 47.0417 71.0103 47.0466 71.6455C47.0417 72.5784 46.8035 73.3873 46.332 74.0721C45.8656 74.752 45.1907 75.2804 44.3074 75.6576C43.429 76.0298 42.3695 76.2159 41.1289 76.2159C39.8983 76.2159 38.8264 76.0273 37.9133 75.6501C37.0052 75.273 36.2955 74.7147 35.7844 73.9753C35.2782 73.231 35.0128 72.3104 34.9879 71.2138H38.1068C38.1416 71.7249 38.288 72.1516 38.546 72.4941C38.809 72.8315 39.1589 73.0871 39.5955 73.2607C40.0372 73.4295 40.5359 73.5138 41.0917 73.5138C41.6376 73.5138 42.1115 73.4344 42.5134 73.2756C42.9204 73.1168 43.2355 72.896 43.4588 72.6132C43.6821 72.3303 43.7938 72.0053 43.7938 71.638C43.7938 71.2956 43.692 71.0078 43.4886 70.7746C43.2901 70.5413 42.9973 70.3428 42.6102 70.1791C42.2281 70.0153 41.7592 69.8665 41.2034 69.7325L39.5434 69.3156C38.2582 69.003 37.2434 68.5142 36.499 67.8492C35.7546 67.1843 35.3849 66.2886 35.3899 65.1621C35.3849 64.2391 35.6306 63.4327 36.1268 62.7429C36.628 62.0531 37.3153 61.5147 38.1887 61.1276C39.0621 60.7406 40.0546 60.547 41.1662 60.547C42.2976 60.547 43.2851 60.7406 44.1287 61.1276C44.9773 61.5147 45.6373 62.0531 46.1087 62.7429C46.5801 63.4327 46.8233 64.2316 46.8382 65.1398H43.7491ZM55.2365 64.5666V66.9486H48.3511V64.5666H55.2365ZM49.9143 61.8273H53.0853V72.4866C53.0853 72.7794 53.1299 73.0077 53.2192 73.1714C53.3086 73.3302 53.4326 73.4419 53.5914 73.5064C53.7552 73.5709 53.9437 73.6032 54.1571 73.6032C54.306 73.6032 54.4549 73.5907 54.6038 73.5659C54.7526 73.5362 54.8668 73.5138 54.9462 73.4989L55.4449 75.8586C55.2861 75.9082 55.0628 75.9653 54.775 76.0298C54.4871 76.0992 54.1373 76.1414 53.7254 76.1563C52.9612 76.1861 52.2913 76.0844 51.7156 75.8511C51.1449 75.6179 50.7008 75.2556 50.3832 74.7644C50.0656 74.2731 49.9093 73.6528 49.9143 72.9035V61.8273ZM60.5624 76.2159C59.8329 76.2159 59.1828 76.0893 58.6121 75.8362C58.0415 75.5782 57.5899 75.1986 57.2574 74.6974C56.9299 74.1912 56.7661 73.561 56.7661 72.8067C56.7661 72.1715 56.8827 71.638 57.116 71.2063C57.3492 70.7746 57.6668 70.4272 58.0688 70.1642C58.4707 69.9012 58.9273 69.7027 59.4384 69.5687C59.9545 69.4347 60.4954 69.3404 61.0611 69.2859C61.7261 69.2164 62.262 69.1519 62.6689 69.0923C63.0758 69.0278 63.3711 68.9335 63.5547 68.8095C63.7383 68.6854 63.8301 68.5018 63.8301 68.2586V68.214C63.8301 67.7425 63.6812 67.3778 63.3835 67.1198C63.0907 66.8617 62.6739 66.7327 62.133 66.7327C61.5623 66.7327 61.1082 66.8592 60.7708 67.1123C60.4333 67.3604 60.21 67.6731 60.1009 68.0502L57.1681 67.812C57.317 67.1173 57.6097 66.5168 58.0464 66.0107C58.4831 65.4995 59.0464 65.1075 59.7361 64.8346C60.4309 64.5567 61.2348 64.4177 62.1479 64.4177C62.7831 64.4177 63.3909 64.4922 63.9715 64.641C64.5571 64.7899 65.0757 65.0207 65.5273 65.3333C65.9838 65.6459 66.3436 66.0479 66.6066 66.5392C66.8696 67.0255 67.0011 67.6086 67.0011 68.2884V76H63.9939V74.4145H63.9046C63.7209 74.7718 63.4753 75.0869 63.1676 75.3598C62.86 75.6278 62.4903 75.8387 62.0585 75.9926C61.6268 76.1414 61.1281 76.2159 60.5624 76.2159ZM61.4705 74.0274C61.937 74.0274 62.3488 73.9356 62.7061 73.752C63.0634 73.5635 63.3438 73.3104 63.5473 72.9928C63.7507 72.6752 63.8525 72.3154 63.8525 71.9135V70.7001C63.7532 70.7647 63.6167 70.8242 63.4431 70.8788C63.2743 70.9284 63.0833 70.9756 62.8699 71.0202C62.6565 71.0599 62.4431 71.0971 62.2297 71.1319C62.0164 71.1616 61.8228 71.1889 61.6491 71.2138C61.277 71.2683 60.9519 71.3552 60.674 71.4743C60.3961 71.5934 60.1803 71.7547 60.0264 71.9581C59.8726 72.1566 59.7957 72.4047 59.7957 72.7025C59.7957 73.1342 59.952 73.4642 60.2646 73.6925C60.5822 73.9158 60.9842 74.0274 61.4705 74.0274ZM69.4612 76V64.5666H72.5354V66.5615H72.6545C72.863 65.8519 73.2128 65.3159 73.7041 64.9537C74.1954 64.5864 74.7611 64.4028 75.4012 64.4028C75.56 64.4028 75.7312 64.4128 75.9148 64.4326C76.0985 64.4525 76.2597 64.4798 76.3987 64.5145V67.3282C76.2498 67.2835 76.0439 67.2438 75.7809 67.2091C75.5178 67.1743 75.2772 67.157 75.0588 67.157C74.5924 67.157 74.1755 67.2587 73.8083 67.4622C73.446 67.6607 73.1582 67.9386 72.9448 68.2959C72.7364 68.6531 72.6322 69.065 72.6322 69.5315V76H69.4612ZM84.6927 64.5666V66.9486H77.8074V64.5666H84.6927ZM79.3705 61.8273H82.5415V72.4866C82.5415 72.7794 82.5862 73.0077 82.6755 73.1714C82.7648 73.3302 82.8889 73.4419 83.0477 73.5064C83.2115 73.5709 83.4 73.6032 83.6134 73.6032C83.7623 73.6032 83.9112 73.5907 84.06 73.5659C84.2089 73.5362 84.323 73.5138 84.4024 73.4989L84.9012 75.8586C84.7424 75.9082 84.519 75.9653 84.2312 76.0298C83.9434 76.0992 83.5936 76.1414 83.1817 76.1563C82.4175 76.1861 81.7475 76.0844 81.1719 75.8511C80.6012 75.6179 80.1571 75.2556 79.8395 74.7644C79.5219 74.2731 79.3656 73.6528 79.3705 72.9035V61.8273ZM104.42 60.7555V76H101.636L95.004 66.4052H94.8924V76H91.6693V60.7555H94.4978L101.078 70.3428H101.212V60.7555H104.42ZM112.189 76.2233C111.033 76.2233 110.033 75.9777 109.19 75.4864C108.351 74.9901 107.703 74.3004 107.247 73.4171C106.79 72.5288 106.562 71.4991 106.562 70.328C106.562 69.1469 106.79 68.1147 107.247 67.2314C107.703 66.3431 108.351 65.6534 109.19 65.1621C110.033 64.6658 111.033 64.4177 112.189 64.4177C113.346 64.4177 114.343 64.6658 115.182 65.1621C116.025 65.6534 116.675 66.3431 117.132 67.2314C117.589 68.1147 117.817 69.1469 117.817 70.328C117.817 71.4991 117.589 72.5288 117.132 73.4171C116.675 74.3004 116.025 74.9901 115.182 75.4864C114.343 75.9777 113.346 76.2233 112.189 76.2233ZM112.204 73.7669C112.73 73.7669 113.17 73.618 113.522 73.3203C113.874 73.0176 114.14 72.6057 114.318 72.0847C114.502 71.5636 114.594 70.9706 114.594 70.3056C114.594 69.6407 114.502 69.0477 114.318 68.5266C114.14 68.0055 113.874 67.5937 113.522 67.291C113.17 66.9883 112.73 66.8369 112.204 66.8369C111.673 66.8369 111.227 66.9883 110.865 67.291C110.507 67.5937 110.237 68.0055 110.053 68.5266C109.875 69.0477 109.785 69.6407 109.785 70.3056C109.785 70.9706 109.875 71.5636 110.053 72.0847C110.237 72.6057 110.507 73.0176 110.865 73.3203C111.227 73.618 111.673 73.7669 112.204 73.7669ZM121.848 76L118.736 64.5666H121.944L123.716 72.2484H123.82L125.666 64.5666H128.815L130.691 72.2038H130.787L132.529 64.5666H135.73L132.626 76H129.269L127.304 68.8095H127.162L125.197 76H121.848Z"
                fill="white"
              />
              <path
                d="M90.8137 94.3567C90.8137 93.5283 90.1421 92.8567 89.3137 92.8567L75.8137 92.8567C74.9853 92.8567 74.3137 93.5283 74.3137 94.3567C74.3137 95.1851 74.9853 95.8567 75.8137 95.8567H87.8137V107.857C87.8137 108.685 88.4853 109.357 89.3137 109.357C90.1421 109.357 90.8137 108.685 90.8137 107.857L90.8137 94.3567ZM79.0607 106.731L90.3744 95.4174L88.253 93.296L76.9393 104.61L79.0607 106.731Z"
                fill="white"
              />
              <path
                d="M244.5 230.5L242.816 228.017L244.5 230.5ZM224 152L226.022 154.216L224 152ZM487 1454.5L489.702 1455.81L487 1454.5ZM352.5 1667.5C352.5 1669.16 353.843 1670.5 355.5 1670.5C357.157 1670.5 358.5 1669.16 358.5 1667.5H352.5ZM126.513 158.177C128.813 161.588 131.205 165.115 133.681 168.7L138.618 165.292C136.16 161.731 133.782 158.225 131.487 154.823L126.513 158.177ZM148.66 189.43C153.895 196.27 159.395 202.973 165.113 209.165L169.521 205.094C163.961 199.074 158.581 192.521 153.425 185.783L148.66 189.43ZM184.108 226.794C191.522 232.456 199.286 236.875 207.313 239.286L209.039 233.54C201.904 231.397 194.783 227.397 187.749 222.025L184.108 226.794ZM234.135 239.066C238.177 237.698 242.197 235.687 246.184 232.983L242.816 228.017C239.239 230.443 235.701 232.202 232.211 233.383L234.135 239.066ZM246.184 232.983C249.318 230.858 252.138 228.62 254.662 226.29L250.593 221.881C248.299 223.998 245.714 226.052 242.816 228.017L246.184 232.983ZM267.629 208.92C270.952 201.867 272.389 194.605 272.366 187.61L266.366 187.63C266.386 193.781 265.125 200.157 262.201 206.363L267.629 208.92ZM267.661 166.335C264.41 159.245 259.67 153.191 254.122 149.055L250.536 153.866C255.178 157.326 259.32 162.54 262.207 168.836L267.661 166.335ZM232.103 144.019C228.546 145.003 225.13 146.908 221.978 149.784L226.022 154.216C228.542 151.917 231.138 150.512 233.703 149.801L232.103 144.019ZM221.978 149.784C218.795 152.688 215.875 156.07 213.483 160.017L218.614 163.127C220.67 159.735 223.203 156.788 226.022 154.216L221.978 149.784ZM207.203 185.573C207.454 193.003 209.176 201.368 212.747 210.801L218.358 208.676C214.974 199.739 213.425 192.026 213.199 185.37L207.203 185.573ZM223.95 233.695C227.817 240.263 232.438 247.256 237.901 254.704L242.739 251.155C237.38 243.848 232.872 237.024 229.121 230.651L223.95 233.695ZM253.5 274.454C256.119 277.564 258.87 280.743 261.757 283.993L266.243 280.009C263.39 276.796 260.673 273.656 258.088 270.588L253.5 274.454ZM261.757 283.993C263.996 286.514 266.314 289.211 268.704 292.075L273.311 288.231C270.886 285.325 268.527 282.58 266.243 280.009L261.757 283.993ZM282.076 308.85C286.196 314.23 290.457 319.973 294.832 326.038L299.698 322.529C295.294 316.421 290.998 310.632 286.839 305.202L282.076 308.85ZM307.215 343.636C311.161 349.375 315.171 355.327 319.225 361.465L324.232 358.159C320.158 351.99 316.127 346.007 312.159 340.237L307.215 343.636ZM330.95 379.547C334.734 385.488 338.541 391.564 342.355 397.757L347.464 394.61C343.634 388.392 339.811 382.29 336.011 376.324L330.95 379.547ZM353.513 416.169C357.157 422.281 360.796 428.481 364.416 434.75L369.612 431.75C365.978 425.456 362.325 419.233 358.666 413.097L353.513 416.169ZM375.041 453.45C378.53 459.692 381.989 465.984 385.407 472.31L390.686 469.458C387.254 463.106 383.781 456.789 380.278 450.523L375.041 453.45ZM395.498 491.319C398.82 497.691 402.088 504.08 405.292 510.47L410.656 507.781C407.437 501.362 404.154 494.945 400.818 488.545L395.498 491.319ZM414.778 529.793C417.908 536.308 420.956 542.807 423.913 549.272L429.369 546.776C426.397 540.276 423.332 533.743 420.187 527.195L414.778 529.793ZM432.645 568.901C435.529 575.577 438.298 582.195 440.936 588.736L446.5 586.491C443.843 579.903 441.055 573.24 438.153 566.521L432.645 568.901ZM448.698 608.783C451.236 615.639 453.604 622.378 455.786 628.976L461.483 627.093C459.277 620.422 456.885 613.616 454.325 606.7L448.698 608.783ZM462.094 649.522C464.104 656.662 465.845 663.579 467.293 670.236L473.156 668.961C471.679 662.172 469.908 655.138 467.87 647.897L462.094 649.522ZM470.966 691.158C471.431 694.787 471.779 698.304 472.007 701.701L477.993 701.3C477.757 697.771 477.396 694.133 476.917 690.396L470.966 691.158ZM472.007 701.701C472.233 705.087 472.265 708.538 472.11 712.05L478.104 712.314C478.268 708.594 478.236 704.921 477.993 701.3L472.007 701.701ZM469.299 732.667C467.855 739.228 465.9 745.948 463.495 752.807L469.157 754.792C471.631 747.74 473.656 740.786 475.159 733.957L469.299 732.667ZM455.616 772.391C452.795 778.661 449.671 785.013 446.29 791.434L451.599 794.229C455.03 787.714 458.209 781.25 461.088 774.853L455.616 772.391ZM435.962 809.961C432.434 815.979 428.728 822.038 424.878 828.126L429.949 831.333C433.83 825.196 437.572 819.079 441.138 812.995L435.962 809.961ZM413.259 845.978C409.346 851.838 405.336 857.713 401.26 863.59L406.19 867.01C410.283 861.108 414.313 855.205 418.249 849.31L413.259 845.978ZM388.986 881.051C384.863 886.85 380.708 892.64 376.551 898.411L381.419 901.918C385.581 896.141 389.743 890.34 393.876 884.528L388.986 881.051ZM364.045 915.742C359.848 921.559 355.68 927.347 351.575 933.092L356.457 936.58C360.553 930.846 364.715 925.068 368.91 919.253L364.045 915.742ZM339.201 950.595C335.051 956.542 331.006 962.432 327.106 968.251L332.09 971.592C335.965 965.81 339.988 959.952 344.122 954.028L339.201 950.595ZM315.384 986.265C311.467 992.496 307.771 998.628 304.349 1004.64L309.564 1007.61C312.935 1001.68 316.585 995.628 320.464 989.458L315.384 986.265ZM294.253 1023.77C290.948 1030.63 288.108 1037.31 285.828 1043.77L291.486 1045.77C293.679 1039.55 296.429 1033.08 299.658 1026.38L294.253 1023.77ZM280.358 1064.96C279.796 1068.73 279.5 1072.41 279.5 1076H285.5C285.5 1072.74 285.769 1069.36 286.292 1065.84L280.358 1064.96ZM279.5 1076C279.5 1079.68 279.635 1083.39 279.898 1087.12L285.884 1086.69C285.63 1083.1 285.5 1079.53 285.5 1076H279.5ZM282.837 1109.14C284.21 1116.26 285.983 1123.45 288.107 1130.67L293.863 1128.98C291.788 1121.92 290.062 1114.92 288.729 1108L282.837 1109.14ZM295.178 1151.62C297.744 1158.39 300.576 1165.18 303.638 1171.98L309.109 1169.51C306.092 1162.82 303.307 1156.14 300.789 1149.49L295.178 1151.62ZM313.214 1191.84C316.527 1198.31 320.018 1204.77 323.655 1211.21L328.879 1208.26C325.279 1201.89 321.827 1195.5 318.555 1189.11L313.214 1191.84ZM334.797 1230.16C338.603 1236.39 342.519 1242.59 346.518 1248.74L351.549 1245.47C347.578 1239.36 343.692 1233.21 339.919 1227.03L334.797 1230.16ZM358.701 1267.01C362.845 1273.07 367.044 1279.07 371.267 1285L376.155 1281.52C371.951 1275.62 367.774 1269.65 363.654 1263.62L358.701 1267.01ZM384.135 1302.77C388.511 1308.72 392.882 1314.58 397.218 1320.34L402.01 1316.73C397.686 1310.99 393.328 1305.15 388.968 1299.22L384.135 1302.77ZM410.478 1337.79C415.022 1343.73 419.487 1349.53 423.833 1355.17L428.586 1351.51C424.241 1345.87 419.781 1340.07 415.243 1334.15L410.478 1337.79ZM437.136 1372.48C441.773 1378.54 446.198 1384.37 450.355 1389.94L455.164 1386.35C450.987 1380.75 446.546 1374.9 441.901 1368.83L437.136 1372.48ZM463.183 1407.59C467.795 1414.17 471.806 1420.22 475.091 1425.7L480.236 1422.61C476.853 1416.97 472.756 1410.79 468.095 1404.15L463.183 1407.59ZM484.123 1444.68C485.26 1448.8 485.117 1451.5 484.298 1453.2L489.702 1455.81C491.456 1452.17 491.192 1447.74 489.906 1443.08L484.123 1444.68ZM484.298 1453.2C482.775 1456.36 481.247 1459.48 479.715 1462.58L485.093 1465.24C486.633 1462.12 488.17 1458.98 489.702 1455.81L484.298 1453.2ZM470.291 1481.18C467.037 1487.45 463.779 1493.57 460.527 1499.56L465.799 1502.42C469.069 1496.41 472.345 1490.24 475.616 1483.94L470.291 1481.18ZM450.398 1517.79C446.884 1523.98 443.39 1529.99 439.932 1535.83L445.093 1538.89C448.57 1533.02 452.082 1526.97 455.615 1520.75L450.398 1517.79ZM429.14 1553.66C425.368 1559.77 421.658 1565.65 418.029 1571.3L423.077 1574.54C426.724 1568.87 430.454 1562.96 434.245 1556.82L429.14 1553.66ZM406.612 1588.73C402.554 1594.81 398.639 1600.56 394.9 1605.96L399.834 1609.37C403.591 1603.95 407.524 1598.17 411.603 1592.06L406.612 1588.73ZM382.899 1623.01C378.4 1629.31 374.295 1634.95 370.663 1639.91L375.506 1643.46C379.144 1638.48 383.263 1632.82 387.78 1626.5L382.899 1623.01ZM358.332 1656.88C356.62 1659.3 355.247 1661.33 354.293 1662.92C353.818 1663.71 353.411 1664.45 353.113 1665.1C352.864 1665.65 352.5 1666.55 352.5 1667.5H358.5C358.5 1667.92 358.37 1668.04 358.58 1667.58C358.74 1667.22 359.014 1666.71 359.434 1666.01C360.27 1664.62 361.538 1662.74 363.235 1660.33L358.332 1656.88Z"
                fill="#E4E4E4"
              />
              <g className="circle-group">
                <circle
                  cx="318"
                  cy="351"
                  r="31"
                  stroke="#E4E4E4"
                  strokeWidth="4"
                  strokeDasharray="17 17"
                  className="outer-circle"
                />
                <circle
                  className="inner-circle"
                  cx="318.5"
                  cy="351.5"
                  r="23.5"
                  fill="#E4E4E4"
                />
              </g>

              <g className="circle-group">
                <circle
                  cx="477"
                  cy="718"
                  r="31"
                  stroke="#E4E4E4"
                  strokeWidth="4"
                  strokeDasharray="17 17"
                  className="outer-circle"
                />
                <circle
                  className="inner-circle"
                  cx="477.5"
                  cy="718.5"
                  r="23.5"
                  fill="#E4E4E4"
                />
              </g>

              <g className="circle-group">
                <circle
                  cx="477"
                  cy="1459"
                  r="31"
                  stroke="#E4E4E4"
                  strokeWidth="4"
                  strokeDasharray="17 17"
                  className="outer-circle"
                />
                <circle
                  className="inner-circle"
                  cx="477.5"
                  cy="1459.5"
                  r="23.5"
                  fill="#E4E4E4"
                />
              </g>

              <g className="circle-group">
                <circle
                  cx="284"
                  cy="1084"
                  r="31"
                  stroke="#E4E4E4"
                  strokeWidth="4"
                  strokeDasharray="17 17"
                  className="outer-circle"
                />
                <circle
                  className="inner-circle"
                  cx="284.5"
                  cy="1084.5"
                  r="23.5"
                  fill="#E4E4E4"
                />
              </g>
            </svg>

            <svg
              width="103"
              height="1241"
              viewBox="0 0 103 1241"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              className="block z-10  lg:hidden path-circle absolute left-0 top-[-110px] transform  "
            >
              <line
                x1="49.5"
                y1="103"
                x2="49.5"
                y2="1241"
                stroke="#E4E4E4"
                strokeWidth="3"
                strokeDasharray="8 8"
              />
              <circle
                cx="51.5"
                cy="51.5"
                r="51.5"
                fill="#DF6BAE"
                fillOpacity="0.1"
              />
              <circle
                cx="51.2071"
                cy="51.5001"
                r="44.7132"
                fill="url(#paint0_linear_0_1)"
                stroke="white"
                strokeWidth="0.798451"
              />
              <path
                d="M26.6639 39.4165C26.6276 39.0506 26.4718 38.7663 26.1966 38.5636C25.9214 38.361 25.5479 38.2597 25.0761 38.2597C24.7555 38.2597 24.4848 38.305 24.264 38.3958C24.0432 38.4835 23.8739 38.606 23.7559 38.7632C23.641 38.9205 23.5835 39.099 23.5835 39.2986C23.5775 39.4649 23.6122 39.6101 23.6879 39.7341C23.7665 39.8581 23.8739 39.9655 24.01 40.0562C24.1461 40.1439 24.3033 40.221 24.4818 40.2876C24.6602 40.3511 24.8507 40.4055 25.0534 40.4509L25.8881 40.6505C26.2934 40.7412 26.6654 40.8622 27.0041 41.0134C27.3429 41.1646 27.6363 41.3506 27.8843 41.5714C28.1323 41.7922 28.3243 42.0523 28.4604 42.3517C28.5995 42.6512 28.6706 42.9944 28.6736 43.3816C28.6706 43.9501 28.5254 44.4431 28.2381 44.8605C27.9538 45.2748 27.5425 45.5969 27.0041 45.8268C26.4688 46.0536 25.8231 46.1671 25.067 46.1671C24.3169 46.1671 23.6637 46.0521 23.1072 45.8223C22.5537 45.5924 22.1212 45.2522 21.8097 44.8015C21.5012 44.3479 21.3394 43.7868 21.3243 43.1184H23.2251C23.2463 43.4299 23.3355 43.69 23.4928 43.8987C23.6531 44.1044 23.8663 44.2601 24.1324 44.366C24.4016 44.4688 24.7056 44.5203 25.0443 44.5203C25.377 44.5203 25.6658 44.4719 25.9108 44.3751C26.1588 44.2783 26.3509 44.1437 26.487 43.9713C26.6231 43.7989 26.6911 43.6008 26.6911 43.377C26.6911 43.1683 26.6291 42.9929 26.5051 42.8508C26.3841 42.7086 26.2057 42.5876 25.9698 42.4878C25.7369 42.388 25.4511 42.2973 25.1124 42.2156L24.1007 41.9616C23.3174 41.771 22.6989 41.4731 22.2452 41.0679C21.7915 40.6626 21.5662 40.1167 21.5692 39.4301C21.5662 38.8676 21.7159 38.3761 22.0184 37.9557C22.3238 37.5353 22.7427 37.2072 23.275 36.9713C23.8073 36.7354 24.4122 36.6174 25.0897 36.6174C25.7792 36.6174 26.3811 36.7354 26.8953 36.9713C27.4124 37.2072 27.8147 37.5353 28.102 37.9557C28.3893 38.3761 28.5375 38.863 28.5466 39.4165H26.6639ZM33.6651 39.0672V40.5189H29.4687V39.0672H33.6651ZM30.4214 37.3977H32.354V43.8942C32.354 44.0726 32.3812 44.2118 32.4356 44.3116C32.4901 44.4083 32.5657 44.4764 32.6625 44.5157C32.7623 44.555 32.8772 44.5747 33.0073 44.5747C33.098 44.5747 33.1887 44.5671 33.2795 44.552C33.3702 44.5339 33.4398 44.5203 33.4882 44.5112L33.7921 45.9493C33.6953 45.9795 33.5592 46.0143 33.3838 46.0536C33.2084 46.096 32.9952 46.1217 32.7441 46.1308C32.2784 46.1489 31.8701 46.0869 31.5192 45.9448C31.1714 45.8026 30.9007 45.5818 30.7072 45.2824C30.5136 44.983 30.4184 44.6049 30.4214 44.1482V37.3977ZM36.9111 46.1671C36.4665 46.1671 36.0703 46.0899 35.7225 45.9357C35.3746 45.7784 35.0994 45.547 34.8968 45.2416C34.6972 44.9331 34.5974 44.549 34.5974 44.0893C34.5974 43.7021 34.6684 43.377 34.8106 43.1139C34.9527 42.8508 35.1463 42.6391 35.3913 42.4788C35.6363 42.3185 35.9145 42.1975 36.226 42.1158C36.5406 42.0342 36.8702 41.9767 37.215 41.9434C37.6203 41.9011 37.9469 41.8618 38.1949 41.8255C38.4429 41.7862 38.6229 41.7287 38.7348 41.6531C38.8467 41.5775 38.9026 41.4656 38.9026 41.3174V41.2902C38.9026 41.0028 38.8119 40.7805 38.6304 40.6233C38.452 40.466 38.198 40.3874 37.8683 40.3874C37.5205 40.3874 37.2437 40.4645 37.0381 40.6187C36.8324 40.77 36.6963 40.9605 36.6298 41.1903L34.8423 41.0452C34.9331 40.6218 35.1115 40.2558 35.3777 39.9473C35.6438 39.6358 35.9871 39.3969 36.4075 39.2305C36.8309 39.0611 37.3209 38.9765 37.8774 38.9765C38.2645 38.9765 38.635 39.0218 38.9888 39.1126C39.3457 39.2033 39.6618 39.3439 39.937 39.5345C40.2152 39.725 40.4345 39.97 40.5948 40.2694C40.7551 40.5658 40.8353 40.9212 40.8353 41.3355V46.0355H39.0025V45.0692H38.948C38.8361 45.2869 38.6864 45.479 38.4989 45.6453C38.3114 45.8087 38.086 45.9372 37.8229 46.031C37.5598 46.1217 37.2558 46.1671 36.9111 46.1671ZM37.4645 44.8333C37.7488 44.8333 37.9999 44.7773 38.2176 44.6654C38.4354 44.5505 38.6062 44.3962 38.7303 44.2027C38.8543 44.0091 38.9163 43.7898 38.9163 43.5449V42.8054C38.8558 42.8447 38.7726 42.881 38.6667 42.9143C38.5639 42.9445 38.4475 42.9733 38.3174 43.0005C38.1874 43.0247 38.0573 43.0474 37.9273 43.0685C37.7972 43.0867 37.6793 43.1033 37.5734 43.1184C37.3466 43.1517 37.1485 43.2046 36.9791 43.2772C36.8097 43.3498 36.6782 43.4481 36.5844 43.5721C36.4907 43.6931 36.4438 43.8443 36.4438 44.0258C36.4438 44.2889 36.539 44.49 36.7296 44.6291C36.9232 44.7652 37.1681 44.8333 37.4645 44.8333ZM42.3346 46.0355V39.0672H44.2083V40.283H44.2808C44.4079 39.8505 44.6211 39.5239 44.9205 39.3031C45.2199 39.0793 45.5647 38.9674 45.9549 38.9674C46.0517 38.9674 46.156 38.9734 46.2679 38.9855C46.3798 38.9976 46.4781 39.0143 46.5628 39.0354V40.7503C46.472 40.7231 46.3465 40.6989 46.1862 40.6777C46.0259 40.6565 45.8793 40.646 45.7462 40.646C45.4619 40.646 45.2078 40.708 44.984 40.832C44.7632 40.9529 44.5878 41.1223 44.4578 41.3401C44.3307 41.5578 44.2672 41.8088 44.2672 42.0931V46.0355H42.3346ZM51.6177 39.0672V40.5189H47.4213V39.0672H51.6177ZM48.374 37.3977H50.3067V43.8942C50.3067 44.0726 50.3339 44.2118 50.3883 44.3116C50.4427 44.4083 50.5184 44.4764 50.6151 44.5157C50.7149 44.555 50.8299 44.5747 50.9599 44.5747C51.0507 44.5747 51.1414 44.5671 51.2321 44.552C51.3229 44.5339 51.3924 44.5203 51.4408 44.5112L51.7448 45.9493C51.648 45.9795 51.5119 46.0143 51.3365 46.0536C51.1611 46.096 50.9478 46.1217 50.6968 46.1308C50.231 46.1489 49.8227 46.0869 49.4719 45.9448C49.1241 45.8026 48.8534 45.5818 48.6598 45.2824C48.4663 44.983 48.371 44.6049 48.374 44.1482V37.3977ZM63.641 36.7444V46.0355H61.9443L57.9021 40.1877H57.8341V46.0355H55.8697V36.7444H57.5936L61.604 42.5876H61.6857V36.7444H63.641ZM68.3761 46.1716C67.6714 46.1716 67.062 46.0219 66.5479 45.7225C66.0367 45.42 65.642 44.9996 65.3638 44.4613C65.0855 43.9199 64.9464 43.2923 64.9464 42.5786C64.9464 41.8587 65.0855 41.2297 65.3638 40.6913C65.642 40.1499 66.0367 39.7295 66.5479 39.4301C67.062 39.1277 67.6714 38.9765 68.3761 38.9765C69.0808 38.9765 69.6887 39.1277 70.1999 39.4301C70.714 39.7295 71.1102 40.1499 71.3885 40.6913C71.6667 41.2297 71.8058 41.8587 71.8058 42.5786C71.8058 43.2923 71.6667 43.9199 71.3885 44.4613C71.1102 44.9996 70.714 45.42 70.1999 45.7225C69.6887 46.0219 69.0808 46.1716 68.3761 46.1716ZM68.3852 44.6745C68.7058 44.6745 68.9735 44.5838 69.1882 44.4023C69.4029 44.2178 69.5647 43.9668 69.6736 43.6492C69.7855 43.3316 69.8415 42.9702 69.8415 42.565C69.8415 42.1597 69.7855 41.7983 69.6736 41.4807C69.5647 41.1631 69.4029 40.9121 69.1882 40.7276C68.9735 40.5431 68.7058 40.4509 68.3852 40.4509C68.0616 40.4509 67.7894 40.5431 67.5686 40.7276C67.3508 40.9121 67.186 41.1631 67.0741 41.4807C66.9652 41.7983 66.9108 42.1597 66.9108 42.565C66.9108 42.9702 66.9652 43.3316 67.0741 43.6492C67.186 43.9668 67.3508 44.2178 67.5686 44.4023C67.7894 44.5838 68.0616 44.6745 68.3852 44.6745ZM74.2624 46.0355L72.3661 39.0672H74.3214L75.4011 43.749H75.4646L76.5897 39.0672H78.5087L79.652 43.7218H79.711L80.7725 39.0672H82.7233L80.8315 46.0355H78.7855L77.5878 41.6531H77.5016L76.3039 46.0355H74.2624Z"
                fill="white"
              />
              <path
                d="M55.3476 57.5074C55.3476 57.0025 54.9383 56.5932 54.4334 56.5932H46.2056C45.7007 56.5932 45.2914 57.0025 45.2914 57.5074C45.2914 58.0123 45.7007 58.4216 46.2056 58.4216L53.5192 58.4216L53.5192 65.7352C53.5192 66.2401 53.9285 66.6494 54.4334 66.6494C54.9383 66.6494 55.3476 66.2401 55.3476 65.7352V57.5074ZM48.1845 65.0491L55.0799 58.1538L53.787 56.8609L46.8916 63.7563L48.1845 65.0491Z"
                fill="white"
              />
              <defs>
                <linearGradient
                  id="paint0_linear_0_1"
                  x1="81.9734"
                  y1="79.2308"
                  x2="11.5799"
                  y2="35.9586"
                  gradientUnits="userSpaceOnUse"
                >
                  <stop offset="0.0145616" stopColor="#DE6DAF" />
                  <stop offset="1" stopColor="#E559AA" />
                </linearGradient>
              </defs>
            </svg>
          </div>

          <div className="mt-[120px] lg:mt-[270px]">
            {steps.map((step, index) => (
              <div className="step relative" key={index}>
                {/* <div className="step-img">{step.image}</div> */}
                <div className="step-img">
                  <img src={step.image} className="step-img" alt="" />
                </div>
                <div className="pl-[70px] lg:p-0 lg:w-1/3 flex justify-start">
                  <div className=" ">
                    <span className="text-[28px] lg:text-[48px] text-[#000] opacity-15 leading-7">
                      {index + 1}
                    </span>
                    <svg
                      width="27"
                      height="27"
                      viewBox="0 0 27 27"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                      className="block z-20 lg:hidden path-circle absolute left-[35px] top-[100px] transform "
                    >
                      <g className="circle-group">
                        <circle
                          cx="13.0768"
                          cy="13.0768"
                          r="12.2843"
                          stroke="#E4E4E4"
                          strokeWidth="1.58507"
                          strokeDasharray="6.74 6.74"
                          className="outer-circle"
                        />
                        <circle
                          cx="13.2752"
                          cy="13.275"
                          r="9.3123"
                          fill="#E4E4E4"
                          className="inner-circle"
                        />
                      </g>
                    </svg>
                  </div>
                  <div className="ml-2">
                    <h3 className="text-[#222222] text-[18px] lg:text-[32px] font-semibold leading-7 mb-4">
                      {step.title}
                    </h3>
                    <p className="text-[#4A5460] text-[14px] lg:text-[20px]">
                      {step.description}
                    </p>
                  </div>
                </div>
              </div>
            ))}
          </div>
        </div>
      </div>
    </div>
  );
};

export default HowItWorks;
